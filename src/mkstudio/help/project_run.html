<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html lang="ru">
<head>








  
  
  
  
  
  
  
  
  <meta http-equiv="content-type" content="text/html; charset=windows-1251">








  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  <title>Работа с проектом</title>
  <link type="text/css" rel="stylesheet" href="help.css">
</head>


<body>





<p>Работа с проектом подразумевает отображение и управление параметрами
информационной базы МК в режиме реального времени. Для начала работы с
проектом нужно вызвать меню <span class="menuitem">Команды</span> &gt; <span class="menuitem">Пуск</span>.</p>





<h3>Работа с таблицей</h3>





<h4>Отображение параметров

</h4>





<p>После вызова меню&nbsp;<span class="menuitem">Команды</span> &gt; <span class="menuitem">Пуск</span>, <a href="project_set.html#anchor3">привязанные ячейки таблицы</a> будут содержать числовые значения, соответствующие текущим параметрам в информационной базе МК.</p>





<p>Значение <b><tt>***</tt></b> показывает, что MKStudio <i><b>не может получить </b></i>нужный параметр из МК. Это происходит в следующих случаях:</p>





<ul>





  <li>не подано питание на МК,</li>





  <li>неправильно скоммутированна связь с МК,</li>





  <li>неправильно выставлен адрес на МК (адрес на МК не совпадает с конфигурацией проекта),</li>





  <li>неправильно выставлена скорость на МК (или при запуске MKStudio)</li>





  <li>тип модуля не соответствует типу проекта,</li>





  <li>неправильно настроен проект: данная ячейка привязана к номеру параметра, превышающему длину (размер массива) слота.</li>





</ul>





<h4>Управление параметрами

</h4>





<p>Для управления (записи) параметром нужно нажать на соответствующий ячейке левой кнопкой мыши (или нажать клавишу <b>Enter</b>) и ввести требуемое число. Если ячейка представляет собой <a href="project_set.html#anchor4">перечислитель</a>, то появляется всплывающее меню, в котором нужно выбрать требуемое значение.

</p>





<p>Возможно&nbsp;записать значения <i><b>одновременно в несколько ячеек</b></i>. Для этого нужно выделить область ячеек и в одну из них записать значение. Это значение запишется во все выделенные ячейки.

</p>





<p>Особенности интерфейса при управлении параметрами:

</p>





<ul>





  <li>чтобы <i><b>записать значение 0</b></i> можно нажать клавишу Пробел</li>





  <li>чтобы <i><b>записать значение 1</b></i> можно нажать клавишу Ctrl-Пробел</li>





  <li>чтобы записать шестнадцатеричное число нужно ввести его в формате <tt><b>0x[число]</b></tt>, например для числа <tt><b>7F</b></tt> нужно ввести <tt><b>0x7F</b></tt>,</li>





  <li>чтобы записать двоичное число нужно ввести его в формате <tt><b>0b[число]</b></tt>, например для числа <tt><b>1010</b></tt> нужно ввести <tt><b>0b1010</b></tt>,</li>





  <li>чтобы записать ASCII код символа (кодировка CP-1251) нужно ввести его в формате&nbsp;<tt><b>'[символ]</b></tt>.</li>





</ul>





<p><i><b>Управление никак не связанно с отображением.</b></i> Это значит, что когда записанное значение отображается на экране - это <i><b>гарантирует</b></i> то, что оно записалось в МК. Если записанное значение не отображается - это значит, что:

</p>





<ul>





  <li>МК отверг требование записи (счетчик ошибок в строке состояния увеличился),</li>





  <li>данное значение для этого параметра является недопустимым,</li>





  <li>данный параметр рассматривается МК как значение только для чтения и не может изменяться извне.</li>





</ul>





<h3>Самописец</h3>





<p>Нажатием правой кнопки мыши на&nbsp;<a href="project_set.html#anchor3">привязанные ячейки таблицы</a>&nbsp;можно вызвать окно самописца. В нем будет показан график изменения значения этой ячейки во времени.

</p>





<p><img alt="" src="img/plot.png" height="378" width="845">

</p>





<p>Здесь доступно следующее управление окном:

</p>





<ul>





  <li>Кнопка <span class="menuitem">Очистить</span> очищает текущий график,</li>


  <li>Кнопка <span class="menuitem">Экспорт</span> копирует данные графика в буфер обмена,</li>





  <li>Кнопка <span class="menuitem">Пауза</span> (с картинкой) приостанавливает/запускает вывод графика,</li>





  <li>Всплывающее меню <span class="menuitem">Длительность</span> задает отображаемый графикам промежуток времени.</li>





</ul>





<p>Информационные поля:</p>





<table border="1" cellpadding="3" cellspacing="1" width="100%">





  <tbody>





    <tr>





      <th>Название поля</th>





      <th>Описание</th>





    </tr>





    <tr>





      <td nowrap="nowrap">Среднее значение</td>





      <td>Усредненное по всему временному промежутку значение данных.</td>





    </tr>





    <tr>





      <td nowrap="nowrap">Разброс</td>





      <td>Максимальное значение на графике минус минимальное значение данных.</td>





    </tr>





    <tr>





      <td nowrap="nowrap">СКО</td>





      <td>Среднеквадратическое отклонение. Квадратный корень из дисперсии данных.</td>





    </tr>





    <tr>





      <td nowrap="nowrap">Шум (%)</td>





      <td>Отношение <b>Разброса</b> к <b>Среднему значению</b> в процентах.</td>





    </tr>





    <tr>





      <td nowrap="nowrap">Шум (дБ)</td>





      <td>Логарифм отношения <b>Разброса</b> к <b>Среднему значению</b>. Формула расчета: <b><tt>-20*log10((y_max - y_min)/y_average)</tt></b></td>





    </tr>





    <tr>





      <td nowrap="nowrap" valign="middle">Гистограмма</td>





      <td>Диаграмма, показывающая статистическую плотность распределения данных. Служит для <i><b>оценки случайного сигнала</b></i>
(шума). По горизонтальной оси - отклонения данных от среднего значения.
По вертикальной оси - количество точек данных, попавших в область
данного отклонения.</td>





    </tr>





  
  
  
  
  
  </tbody>
</table>





<h3><a name="anchor1"></a>Окно Слот

</h3>





<p><img alt="" src="img/mainwindow_slot.png" height="253" width="808">

</p>





<p>Окно представляет собой таблицу со значениями всех параметров слота.
Вызвать его можно двойным нажатием левой кнопки мыши на нужном слоте в
окне <a href="mainwindow.html#anchor5">Взаимодействие с МК</a>.
</p>


<p>С помощью меню <span class="menuitem">Вид</span> можно переключать тип отображения слота: таблица значений, график или масштабированный график.&nbsp;В меню <span class="menuitem">Формат</span> можно задать формат отображения (десятичный знаковый, десятичный беззнаковый, шестнадцатеричный, двоичный).

</p>





<p>В <b>таблице значений</b> представленны все значения параметров
этого слота слева-направо сверху-вниз. По сути эта таблица ничем не
отличается от центральной таблицы главного окна и все возможности по
отображению (самописец) и управлению поддерживаются.
</p>


<p><b>График слота</b> представляет собой график, в котором по
горизонтальной оси положен номер параметра в слоте, а по вертикальной
оси - значение этого параметра.
</p>


<p><b>График слота масштабированный</b> отличается от просто графика
тем, что для него можно задать произвольное масштабирование по обоим
осям. Это делается при помощи меню <span class="menuitem">Формат</span> &gt; <span class="menuitem">Масштабированние</span>.

</p>








<p><img alt="" src="img/mainwindow_slot2.png" height="405" width="808"></p>

<p>При нажатии меню <span class="menuitem">Экспорт</span> данные копируются в буфер обмена.<br>
</p>
<p>Все настройки отображения и масштабирования сохраняются в файл проекта при записи проекта.

</p>





<h4><b></b>Масштабирование графика</h4>


<p>Диалог вызывается при помощи меню&nbsp;<span class="menuitem">Формат</span> &gt; <span class="menuitem">Масштабированние</span>.</p>


<p><img alt="" src="img/slotdialog.png" height="520" width="370"> 
</p>


<p>При задании масштабирования в виде <span class="menuitem">Значения из базы</span>
коэффициент масштабирования берется из базы данных модуля в режиме
реального времени. Значение в базе адресуется номером модуля, номером
слота и номером параметра.</p>





</body>
</html>
